(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3190],{60:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>S});var t=a(5155),l=a(4818),r=a(3998),i=a(6948),d=a(5142),c=a(6444),n=a(909),o=a(6943),u=a(109),m=a(5212);let x=(0,a(4294).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var h=a(6615),p=a(8127),f=a(6419),b=a(4825),g=a(9795),j=a(2619),v=a.n(j),N=a(2115),y=a(7077),w=a(7579),k=a(8058),C=a(63),A=a(5894),L=a(7820),M=a(243);let E=[...y.E.map(e=>({...e,series:"Motorcross"})),...w.o.map(e=>({id:"supercross-".concat(e.round),name:"".concat(e.location),track:e.track,date:e.date,series:"Supercross"}))].sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime());function z(){return(0,t.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,t.jsx)(l.z,{title:"Bet",description:"Find friends, select a race, and place your bet."}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.Wu,{className:"space-y-8 pt-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M.E,{className:"h-6 w-40"}),(0,t.jsx)(M.E,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M.E,{className:"h-6 w-48"}),(0,t.jsx)(M.E,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-lg border bg-background p-4",children:[(0,t.jsx)(M.E,{className:"h-6 w-32"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M.E,{className:"h-4 w-24"}),(0,t.jsx)(M.E,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(M.E,{className:"h-4 w-24"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(M.E,{className:"h-12 w-32"}),(0,t.jsx)(M.E,{className:"h-12 w-32"})]})]})]})]}),(0,t.jsxs)(i.wL,{className:"flex flex-col gap-4",children:[(0,t.jsx)(M.E,{className:"h-11 w-full"}),(0,t.jsx)(M.E,{className:"h-11 w-full"})]})]})]})}function S(){let e=(0,C.useRouter)(),{toast:s}=(0,A.dj)(),{user:a,isLoading:j}=(0,L.Jd)(),{data:y,isLoading:w}=(0,L.uN)("accounts",(null==a?void 0:a.uid)||"---"),[M,S]=(0,N.useState)(""),[q,F]=(0,N.useState)("gold"),[P,R]=(0,N.useState)(""),[B,I]=(0,N.useState)(null),[V,_]=(0,N.useState)(""),[H,T]=(0,N.useState)(null),[Z,$]=(0,N.useState)([]),[G,U]=(0,N.useState)(!0);(0,N.useEffect)(()=>{j||a||e.push("/sign-in")},[j,a,e]),(0,N.useEffect)(()=>{y&&y.friendIds&&y.friendIds.length>0?(U(!0),(0,k.M7)(y.friendIds).then(e=>{$(e),U(!1)})):y&&($([]),U(!1))},[y]);let D=(0,N.useMemo)(()=>P?E.filter(e=>e.name.toLowerCase().includes(P.toLowerCase())||e.track.toLowerCase().includes(P.toLowerCase())).slice(0,5):[],[P]),O=(0,N.useMemo)(()=>V?Z.filter(e=>e.name.toLowerCase().includes(V.toLowerCase())||e.username.toLowerCase().includes(V.toLowerCase())).slice(0,5):[],[V,Z]);return j||w||G?(0,t.jsx)(z,{}):(0,t.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,t.jsx)(l.z,{title:"Bet",description:"Find friends, select a race, and place your bet."}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.Wu,{className:"space-y-8 pt-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{className:"flex items-center gap-2 text-lg font-semibold",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Find a Friend"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(d.p,{id:"find-friend",placeholder:"Search by username...",className:"pl-10 pr-10",value:V,onChange:e=>_(e.target.value),disabled:!!H}),(0,t.jsx)(m.A,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 cursor-pointer text-muted-foreground"})]}),V&&O.length>0&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("ul",{className:"absolute z-10 w-full bg-card border rounded-md mt-1 max-h-60 overflow-y-auto",children:O.map(e=>(0,t.jsxs)("li",{onClick:()=>{T(e),_("")},className:"px-4 py-2 hover:bg-muted cursor-pointer",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",e.username]})]},e.id))})}),H&&(0,t.jsxs)("div",{className:"rounded-lg border bg-muted/50 p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-5 w-5 text-green-500"})," ",H.name]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground ml-7",children:["@",H.username]})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"icon",onClick:()=>T(null),children:(0,t.jsx)(h.A,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c.Label,{className:"flex items-center gap-2 text-lg font-semibold",children:[(0,t.jsx)(p.A,{className:"h-5 w-5"}),"Find an Upcoming Race"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(d.p,{id:"find-race",placeholder:"Search by race name or track...",className:"pl-10 pr-10",value:P,onChange:e=>R(e.target.value),disabled:!!B}),(0,t.jsx)(m.A,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 cursor-pointer text-muted-foreground"})]}),P&&D.length>0&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("ul",{className:"absolute z-10 w-full bg-card border rounded-md mt-1 max-h-60 overflow-y-auto",children:D.map(e=>(0,t.jsxs)("li",{onClick:()=>{I(e),R("")},className:"px-4 py-2 hover:bg-muted cursor-pointer",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.track," - ",e.date]})]},e.id))})}),B&&(0,t.jsxs)("div",{className:"rounded-lg border bg-muted/50 p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(f.A,{})," ",B.name]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[B.track," - ",B.date]})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"icon",onClick:()=>I(null),children:(0,t.jsx)(h.A,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 rounded-lg border bg-background p-4",children:[(0,t.jsxs)(c.Label,{className:"flex items-center gap-2 text-lg font-semibold",children:[(0,t.jsx)(b.A,{className:"h-5 w-5"}),"Make a Bet"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"bet-amount",children:"Bet Amount"}),(0,t.jsx)(d.p,{id:"bet-amount",type:"number",placeholder:"Minimum 100 coins",value:M,onChange:e=>S(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{children:"Coin Type"}),(0,t.jsxs)(n.z,{defaultValue:"gold",value:q,onValueChange:F,className:"flex gap-4",children:[(0,t.jsxs)(c.Label,{htmlFor:"gold",className:"flex cursor-pointer items-center gap-2 rounded-md border p-3 data-[state=checked]:border-primary",children:[(0,t.jsx)(n.C,{value:"gold",id:"gold"}),"Gold Coins"]}),(0,t.jsxs)(c.Label,{htmlFor:"sweeps",className:"flex cursor-pointer items-center gap-2 rounded-md border p-3 data-[state=checked]:border-primary",children:[(0,t.jsx)(n.C,{value:"sweeps",id:"sweeps"}),"Sweeps Coins"]})]}),(0,t.jsx)("p",{className:"pt-2 text-xs text-muted-foreground",children:"Use Gold Coins for fun or Sweeps Coins for a chance to win real prizes."})]})]})]}),(0,t.jsxs)(i.wL,{className:"flex flex-col gap-4",children:[(0,t.jsx)(r.$,{size:"lg",className:"w-full",onClick:()=>{if(!y){s({title:"Please sign in",description:"You need to be signed in to place a bet.",variant:"destructive"}),e.push("/sign-in");return}if(!H)return void s({title:"No friend selected",description:"Please select a friend to bet against.",variant:"destructive"});if(!B)return void s({title:"No race selected",description:"Please select a race to bet on.",variant:"destructive"});let a=Number(M);return!a||a<100?void s({title:"Invalid Amount",description:"The minimum bet amount is 100 coins.",variant:"destructive"}):a>("gold"===q?y.balances.gold:y.balances.sweeps)?void s({title:"Insufficient Balance",description:"You do not have enough ".concat("gold"===q?"Gold":"Sweeps"," Coins."),variant:"destructive"}):void e.push("/betting/confirmation")},children:"Place Bet"}),(0,t.jsx)(r.$,{size:"lg",className:"w-full",variant:"outline",asChild:!0,children:(0,t.jsxs)(v(),{href:"/betting/parlay",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Create Parlay Bet"]})})]})]})]})}},63:(e,s,a)=>{"use strict";var t=a(7260);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},109:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},243:(e,s,a)=>{"use strict";a.d(s,{E:()=>r});var t=a(5155),l=a(4269);function r(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...a})}},909:(e,s,a)=>{"use strict";a.d(s,{C:()=>n,z:()=>c});var t=a(5155),l=a(2115),r=a(4058),i=a(5797),d=a(4269);let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.bL,{className:(0,d.cn)("grid gap-2",a),...l,ref:s})});c.displayName=r.bL.displayName;let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.q7,{ref:s,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:(0,t.jsx)(r.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});n.displayName=r.q7.displayName},4818:(e,s,a)=>{"use strict";a.d(s,{z:()=>l});var t=a(5155);function l(e){let{title:s,description:a,children:l}=e;return(0,t.jsx)("div",{className:"mb-8 relative",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-headline text-3xl font-bold tracking-tight md:text-4xl",children:s}),a&&(0,t.jsx)("p",{className:"mt-1 text-lg text-muted-foreground",children:a})]}),l]})})}},4825:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},5142:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(5155),l=a(2115),r=a(4269);let i=l.forwardRef((e,s)=>{let{className:a,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},5212:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},6419:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},6444:(e,s,a)=>{"use strict";a.d(s,{Label:()=>n});var t=a(5155),l=a(2115),r=a(489),i=a(3101),d=a(4269);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.b,{ref:s,className:(0,d.cn)(c(),a),...l})});n.displayName=r.b.displayName},6615:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6943:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7141:(e,s,a)=>{Promise.resolve().then(a.bind(a,60))},9795:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(4294).A)("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])}},e=>{e.O(0,[2992,3644,4909,4193,2619,4115,9032,4944,33,8441,1255,7358],()=>e(e.s=7141)),_N_E=e.O()}]);