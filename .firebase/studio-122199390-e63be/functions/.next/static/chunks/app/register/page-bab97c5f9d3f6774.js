(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2454],{489:(e,r,a)=>{"use strict";a.d(r,{b:()=>l});var t=a(2115),n=a(8142),i=a(5155),s=t.forwardRef((e,r)=>(0,i.jsx)(n.sG.label,{...e,ref:r,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s.displayName="Label";var l=s},1186:(e,r,a)=>{"use strict";a.d(r,{bq:()=>u,eb:()=>h,gC:()=>b,l6:()=>c,yv:()=>m});var t=a(5155),n=a(2115),i=a(6015),s=a(9007),l=a(2614),d=a(2251),o=a(4269);let c=i.bL;i.YJ;let m=i.WT,u=n.forwardRef((e,r)=>{let{className:a,children:n,...l}=e;return(0,t.jsxs)(i.l9,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[n,(0,t.jsx)(i.In,{asChild:!0,children:(0,t.jsx)(s.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=i.l9.displayName;let f=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(i.PP,{ref:r,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=i.PP.displayName;let p=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(i.wn,{ref:r,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,t.jsx)(s.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let b=n.forwardRef((e,r)=>{let{className:a,children:n,position:s="popper",...l}=e;return(0,t.jsx)(i.ZL,{children:(0,t.jsxs)(i.UC,{ref:r,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...l,children:[(0,t.jsx)(f,{}),(0,t.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,t.jsx)(p,{})]})})});b.displayName=i.UC.displayName,n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(i.JU,{ref:r,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=i.JU.displayName;let h=n.forwardRef((e,r)=>{let{className:a,children:n,...s}=e;return(0,t.jsxs)(i.q7,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(i.p4,{children:n})]})});h.displayName=i.q7.displayName,n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(i.wv,{ref:r,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=i.wv.displayName},1712:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>H});var t=a(5155),n=a(2115),i=a(2619),s=a.n(i),l=a(4818),d=a(3998),o=a(6948),c=a(5142),m=a(6444),u=a(4446),f=a(3468),p=a(2556),b=a(3558),h=a(8108),g=a(4288),x=a(6842),y=a(8142),v="Checkbox",[N,j]=(0,f.A)(v),[w,A]=N(v),C=n.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:i,checked:s,defaultChecked:l,required:d,disabled:o,value:c="on",onCheckedChange:m,form:f,...h}=e,[g,x]=n.useState(null),v=(0,u.s)(r,e=>x(e)),N=n.useRef(!1),j=!g||f||!!g.closest("form"),[A=!1,C]=(0,b.i)({prop:s,defaultProp:l,onChange:m}),k=n.useRef(A);return n.useEffect(()=>{let e=null==g?void 0:g.form;if(e){let r=()=>C(k.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[g,C]),(0,t.jsxs)(w,{scope:a,state:A,disabled:o,children:[(0,t.jsx)(y.sG.button,{type:"button",role:"checkbox","aria-checked":S(A)?"mixed":A,"aria-required":d,"data-state":M(A),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:v,onKeyDown:(0,p.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,p.m)(e.onClick,e=>{C(e=>!!S(e)||!e),j&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),j&&(0,t.jsx)(E,{control:g,bubbles:!N.current,name:i,value:c,checked:A,required:d,disabled:o,form:f,style:{transform:"translateX(-100%)"},defaultChecked:!S(l)&&l})]})});C.displayName=v;var k="CheckboxIndicator",R=n.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:n,...i}=e,s=A(k,a);return(0,t.jsx)(x.C,{present:n||S(s.state)||!0===s.state,children:(0,t.jsx)(y.sG.span,{"data-state":M(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});R.displayName=k;var E=e=>{let{control:r,checked:a,bubbles:i=!0,defaultChecked:s,...l}=e,d=n.useRef(null),o=(0,h.Z)(a),c=(0,g.X)(r);n.useEffect(()=>{let e=d.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&r){let t=new Event("click",{bubbles:i});e.indeterminate=S(a),r.call(e,!S(a)&&a),e.dispatchEvent(t)}},[o,a,i]);let m=n.useRef(!S(a)&&a);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=s?s:m.current,...l,tabIndex:-1,ref:d,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function S(e){return"indeterminate"===e}function M(e){return S(e)?"indeterminate":e?"checked":"unchecked"}var P=a(2251),I=a(4269);let D=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(C,{ref:r,className:(0,I.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...n,children:(0,t.jsx)(R,{className:(0,I.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(P.A,{className:"h-4 w-4"})})})});D.displayName=C.displayName;var T=a(5894),W=a(2033);let L=(0,a(4294).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var O=a(63),F=a(2949),J=a(8058),V=a(3885),q=a(1186),_=a(8602);function H(){let[e,r]=(0,n.useState)(""),[a,i]=(0,n.useState)(""),[u,f]=(0,n.useState)(""),[p,b]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[x,y]=(0,n.useState)(""),[v,N]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1),{toast:A}=(0,T.dj)(),C=(0,O.useRouter)(),k=["MT","CT","NY","WA","ID","NJ","CA","MI","NV","LA","DE"],R=async r=>{if(r.preventDefault(),!e.trim())return void A({title:"Error",description:"Please enter a username.",variant:"destructive"});if(await (0,J.OQ)(e.trim()))return void A({title:"Error",description:"This username is already taken.",variant:"destructive"});if(!a.trim()||!/^\S+@\S+\.\S+$/.test(a))return void A({title:"Error",description:"Please enter a valid email.",variant:"destructive"});if(await (0,J.x2)(a.trim()))return void A({title:"Error",description:"An account with this email already exists.",variant:"destructive"});if(u.length<8)return void A({title:"Error",description:"Password must be at least 8 characters long.",variant:"destructive"});if(u!==p)return void A({title:"Error",description:"Passwords do not match.",variant:"destructive"});if(h.trim()&&await (0,J.r$)(h.trim()))return void A({title:"Error",description:"This rider number is already taken.",variant:"destructive"});if(!x)return void A({title:"Error",description:"Please select your state.",variant:"destructive"});if(k.includes(x))return void A({title:"Service Not Available",description:"Sorry, our services are not available in your selected state.",variant:"destructive"});if(!v)return void A({title:"Error",description:"You must agree to the Terms of Service and Privacy Policy.",variant:"destructive"});w(!0);try{let r=(await (0,V.eJ)(F.j2,a,u)).user,t={name:e,username:e.trim(),email:a.trim(),bio:"",state:x,balances:{gold:0,sweeps:0},playHistory:[],friendIds:[],riderNumber:h.trim()||"",mxhubStanding:0};await (0,J._m)(r.uid,t),A({title:"Account Created!",description:"Welcome! We're redirecting you to the sign-in page."}),C.push("/sign-in")}catch(e){console.error("Registration failed:",e),A({title:"Registration Failed",description:e.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{w(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)(l.z,{title:"Registration",description:"Create your MxRaceHub account."}),(0,t.jsx)("form",{onSubmit:R,children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Create Account"})}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"username",children:"Username"}),(0,t.jsx)(c.p,{id:"username",placeholder:"Choose a username",value:e,onChange:e=>r(e.target.value),disabled:j,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(c.p,{id:"email",type:"email",placeholder:"your@email.com",value:a,onChange:e=>i(e.target.value),disabled:j,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"state",children:"State"}),(0,t.jsxs)(q.l6,{onValueChange:y,value:x,disabled:j,required:!0,children:[(0,t.jsx)(q.bq,{id:"state",children:(0,t.jsx)(q.yv,{placeholder:"Select your state"})}),(0,t.jsx)(q.gC,{children:_.x.map(e=>(0,t.jsx)(q.eb,{value:e.abbr,disabled:k.includes(e.abbr),children:e.name},e.abbr))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"rider-number",children:"Rider Number"}),(0,t.jsx)(c.p,{id:"rider-number",placeholder:"e.g., 7",value:h,onChange:e=>g(e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(c.p,{id:"password",type:"password",placeholder:"Create a password",value:u,onChange:e=>f(e.target.value),disabled:j,required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.J,{htmlFor:"confirm-password",children:"Confirm Password"}),(0,t.jsx)(c.p,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:p,onChange:e=>b(e.target.value),disabled:j,required:!0})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,t.jsx)(D,{id:"terms",checked:v,onCheckedChange:e=>N(e),disabled:j}),(0,t.jsxs)("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",(0,t.jsx)(s(),{href:"/policies",className:"text-primary underline",children:"Terms of Service"})," and ",(0,t.jsx)(s(),{href:"/policies",className:"text-primary underline",children:"Privacy Policy"})]})]})]}),(0,t.jsx)(o.wL,{children:(0,t.jsx)(d.$,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:j,children:j?(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:["Create Account ",(0,t.jsx)(L,{className:"ml-2 h-4 w-4"})]})})})]})}),(0,t.jsxs)("p",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,t.jsx)(s(),{href:"/sign-in",className:"font-semibold text-primary hover:underline",children:"Sign in here"})]})]})}},2033:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(4294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4818:(e,r,a)=>{"use strict";a.d(r,{z:()=>i});var t=a(5155),n=a(4269);function i(e){let{title:r,description:a,children:i,className:s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("mb-8 relative",s),children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-headline text-3xl font-bold tracking-tight md:text-4xl",children:r}),a&&(0,t.jsx)("p",{className:"mt-1 text-lg text-muted-foreground",children:a})]}),i]})})}},5142:(e,r,a)=>{"use strict";a.d(r,{p:()=>s});var t=a(5155),n=a(2115),i=a(4269);let s=n.forwardRef((e,r)=>{let{className:a,type:n,...s}=e;return(0,t.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...s})});s.displayName="Input"},6444:(e,r,a)=>{"use strict";a.d(r,{J:()=>o});var t=a(5155),n=a(2115),i=a(489),s=a(3101),l=a(4269);let d=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(i.b,{ref:r,className:(0,l.cn)(d(),a),...n})});o.displayName=i.b.displayName},6948:(e,r,a)=>{"use strict";a.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>s,aR:()=>l,wL:()=>m});var t=a(5155),n=a(2115),i=a(4269);let s=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});s.displayName="Card";let l=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});d.displayName="CardTitle";let o=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent";let m=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",a),...n})});m.displayName="CardFooter"},7129:(e,r,a)=>{"use strict";a.d(r,{DX:()=>l,TL:()=>s});var t=a(2115);function n(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var i=a(5155);function s(e){let r=function(e){let r=t.forwardRef((e,r)=>{let{children:a,...i}=e;if(t.isValidElement(a)){var s;let e,l,d=(s=a,(l=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,r){let a={...r};for(let t in r){let n=e[t],i=r[t];/^on[A-Z]/.test(t)?n&&i?a[t]=(...e)=>{let r=i(...e);return n(...e),r}:n&&(a[t]=n):"style"===t?a[t]={...n,...i}:"className"===t&&(a[t]=[n,i].filter(Boolean).join(" "))}return{...e,...a}}(i,a.props);return a.type!==t.Fragment&&(o.ref=r?function(...e){return r=>{let a=!1,t=e.map(e=>{let t=n(e,r);return a||"function"!=typeof t||(a=!0),t});if(a)return()=>{for(let r=0;r<t.length;r++){let a=t[r];"function"==typeof a?a():n(e[r],null)}}}}(r,d):d),t.cloneElement(a,o)}return t.Children.count(a)>1?t.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),a=t.forwardRef((e,a)=>{let{children:n,...s}=e,l=t.Children.toArray(n),d=l.find(o);if(d){let e=d.props.children,n=l.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,i.jsx)(r,{...s,ref:a,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,i.jsx)(r,{...s,ref:a,children:n})});return a.displayName=`${e}.Slot`,a}var l=s("Slot"),d=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},8602:(e,r,a)=>{"use strict";a.d(r,{x:()=>t});let t=[{name:"Alabama",abbr:"AL",minAge:21},{name:"Alaska",abbr:"AK",minAge:18},{name:"Arizona",abbr:"AZ",minAge:18},{name:"Arkansas",abbr:"AR",minAge:18},{name:"California",abbr:"CA",minAge:18},{name:"Colorado",abbr:"CO",minAge:18},{name:"Connecticut",abbr:"CT",minAge:18},{name:"Delaware",abbr:"DE",minAge:18},{name:"Florida",abbr:"FL",minAge:18},{name:"Georgia",abbr:"GA",minAge:18},{name:"Hawaii",abbr:"HI",minAge:18},{name:"Idaho",abbr:"ID",minAge:18},{name:"Illinois",abbr:"IL",minAge:18},{name:"Indiana",abbr:"IN",minAge:18},{name:"Iowa",abbr:"IA",minAge:18},{name:"Kansas",abbr:"KS",minAge:18},{name:"Kentucky",abbr:"KY",minAge:18},{name:"Louisiana",abbr:"LA",minAge:18},{name:"Maine",abbr:"ME",minAge:18},{name:"Maryland",abbr:"MD",minAge:18},{name:"Massachusetts",abbr:"MA",minAge:18},{name:"Michigan",abbr:"MI",minAge:18},{name:"Minnesota",abbr:"MN",minAge:18},{name:"Mississippi",abbr:"MS",minAge:18},{name:"Missouri",abbr:"MO",minAge:18},{name:"Montana",abbr:"MT",minAge:18},{name:"Nebraska",abbr:"NE",minAge:21},{name:"Nevada",abbr:"NV",minAge:18},{name:"New Hampshire",abbr:"NH",minAge:18},{name:"New Jersey",abbr:"NJ",minAge:18},{name:"New Mexico",abbr:"NM",minAge:18},{name:"New York",abbr:"NY",minAge:18},{name:"North Carolina",abbr:"NC",minAge:18},{name:"North Dakota",abbr:"ND",minAge:18},{name:"Ohio",abbr:"OH",minAge:18},{name:"Oklahoma",abbr:"OK",minAge:18},{name:"Oregon",abbr:"OR",minAge:18},{name:"Pennsylvania",abbr:"PA",minAge:18},{name:"Rhode Island",abbr:"RI",minAge:18},{name:"South Carolina",abbr:"SC",minAge:18},{name:"South Dakota",abbr:"SD",minAge:18},{name:"Tennessee",abbr:"TN",minAge:18},{name:"Texas",abbr:"TX",minAge:18},{name:"Utah",abbr:"UT",minAge:18},{name:"Vermont",abbr:"VT",minAge:18},{name:"Virginia",abbr:"VA",minAge:18},{name:"Washington",abbr:"WA",minAge:18},{name:"West Virginia",abbr:"WV",minAge:18},{name:"Wisconsin",abbr:"WI",minAge:18},{name:"Wyoming",abbr:"WY",minAge:18}]},9643:(e,r,a)=>{Promise.resolve().then(a.bind(a,1712))}},e=>{e.O(0,[2992,7811,4909,2619,2381,8146,8160,6301,1005,8441,1255,7358],()=>e(e.s=9643)),_N_E=e.O()}]);