(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2509],{243:(e,s,r)=>{"use strict";r.d(s,{E:()=>i});var a=r(5155),t=r(4269);function i(e){let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",s),...r})}},909:(e,s,r)=>{"use strict";r.d(s,{C:()=>n,z:()=>c});var a=r(5155),t=r(2115),i=r(4058),l=r(5797),d=r(4269);let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.bL,{className:(0,d.cn)("grid gap-2",r),...t,ref:s})});c.displayName=i.bL.displayName;let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.q7,{ref:s,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:(0,a.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});n.displayName=i.q7.displayName},1838:(e,s,r)=>{Promise.resolve().then(r.bind(r,3725))},3725:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>N});var a=r(5155),t=r(2115),i=r(4818),l=r(3998),d=r(6948),c=r(5142),n=r(6444),o=r(909),u=r(2033);let m=(0,r(4294).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=r(63),p=r(2949),h=r(5894),f=r(8058),g=r(243);let j=[{amount:500,price:5,id:"gc-500"},{amount:1e3,price:10,id:"gc-1k"},{amount:2e3,price:20,id:"gc-2k",popular:!0},{amount:5e3,price:50,id:"gc-5k"}];function v(){return j.find(e=>"gc-2k"===e.id),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.z,{title:"Bank & Checkout",description:"Securely purchase Gold Coins to use across MxHub."}),(0,a.jsx)("div",{className:"mx-auto max-w-4xl",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Purchase Gold Coins"}),(0,a.jsx)(d.BT,{children:"Select a package and complete your purchase. 100 Gold Coins = $1.00 USD"})]}),(0,a.jsxs)(d.Wu,{className:"grid gap-8 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-base font-semibold",children:"Select a Package"}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:j.map(e=>(0,a.jsx)(g.E,{className:"h-[108px] w-full"},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(n.J,{className:"text-base font-semibold",children:"Payment Information (Simulation)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.E,{className:"h-4 w-24"}),(0,a.jsx)(g.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.E,{className:"h-4 w-24"}),(0,a.jsx)(g.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.E,{className:"h-4 w-20"}),(0,a.jsx)(g.E,{className:"h-10 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.E,{className:"h-4 w-12"}),(0,a.jsx)(g.E,{className:"h-10 w-full"})]})]})]})]}),(0,a.jsxs)(d.wL,{className:"flex-col gap-4 items-stretch",children:[(0,a.jsx)(g.E,{className:"h-11 w-full"}),(0,a.jsx)(g.E,{className:"h-4 w-3/4 mx-auto"})]})]})})]})}function N(){let[e,s]=t.useState("gc-2k"),{user:r,isLoading:g}=(0,p.Jd)(),{data:N,isLoading:b}=(0,p.uN)("accounts",null==r?void 0:r.uid),y=(0,x.useRouter)(),{toast:w}=(0,h.dj)(),[k,C]=(0,t.useState)(!1);(0,t.useEffect)(()=>{g||r||y.push("/sign-in")},[g,r,y]);let S=async s=>{if(s.preventDefault(),!r||!N)return void w({title:"Error",description:"You must be signed in to make a purchase.",variant:"destructive"});let a=j.find(s=>s.id===e);if(!a)return void w({title:"Error",description:"Please select a valid package.",variant:"destructive"});C(!0);try{await new Promise(e=>setTimeout(e,1500)),await (0,f.U1)({userId:r.uid,packageId:a.id,amount:a.amount,price:a.price,date:new Date().toISOString(),status:"Completed"});let e=N.balances.gold+a.amount;await (0,f.z0)(r.uid,{balances:{...N.balances,gold:e}}),w({title:"Purchase Successful!",description:"You've purchased ".concat(a.amount.toLocaleString()," Gold Coins.")}),y.push("/account")}catch(e){console.error("Purchase simulation failed:",e),w({title:"Purchase Failed",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{C(!1)}},E=j.find(s=>s.id===e);return g||b?(0,a.jsx)(v,{}):(0,a.jsxs)("div",{children:[(0,a.jsx)(i.z,{title:"Bank & Checkout",description:"Securely purchase Gold Coins to use across MxHub."}),(0,a.jsx)("div",{className:"mx-auto max-w-4xl",children:(0,a.jsx)("form",{onSubmit:S,children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Purchase Gold Coins"}),(0,a.jsx)(d.BT,{children:"Select a package and complete your purchase. 100 Gold Coins = $1.00 USD"})]}),(0,a.jsxs)(d.Wu,{className:"grid gap-8 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-base font-semibold",children:"Select a Package"}),(0,a.jsx)(o.z,{value:e,onValueChange:s,className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:j.map(e=>(0,a.jsxs)(n.J,{htmlFor:e.id,className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground cursor-pointer [&:has([data-state=checked])]:border-primary relative",children:[e.popular&&(0,a.jsx)("div",{className:"absolute -top-3 rounded-full bg-primary px-2 py-0.5 text-xs text-primary-foreground",children:"Popular"}),(0,a.jsx)(o.C,{value:e.id,id:e.id,className:"sr-only"}),(0,a.jsxs)("p",{className:"mb-2 text-lg font-semibold",children:[e.amount.toLocaleString()," Coins"]}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:["$",e.price.toFixed(2)]})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(n.J,{className:"text-base font-semibold",children:"Payment Information (Simulation)"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"name",children:"Name on Card"}),(0,a.jsx)(c.p,{id:"name",placeholder:"John Doe",disabled:k})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"card-number",children:"Card Number"}),(0,a.jsx)(c.p,{id:"card-number",placeholder:"•••• •••• •••• ••••",disabled:k})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"expiry",children:"Expiration"}),(0,a.jsx)(c.p,{id:"expiry",placeholder:"MM/YY",disabled:k})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"cvc",children:"CVC"}),(0,a.jsx)(c.p,{id:"cvc",placeholder:"•••",disabled:k})]})]})]})]}),(0,a.jsxs)(d.wL,{className:"flex-col gap-4 items-stretch",children:[(0,a.jsxs)(l.$,{size:"lg",type:"submit",disabled:k,children:[k?(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(m,{className:"mr-2 h-4 w-4"}),k?"Processing...":"Pay $".concat(null==E?void 0:E.price.toFixed(2))]}),(0,a.jsx)("p",{className:"w-full text-center text-xs text-muted-foreground",children:'This is a simulated checkout. No real payment will be processed. By clicking "Pay", you agree to our Terms of Service.'})]})]})})})]})}},4288:(e,s,r)=>{"use strict";r.d(s,{X:()=>i});var a=r(2115),t=r(4129);function i(e){let[s,r]=a.useState(void 0);return(0,t.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let a,t;if(!Array.isArray(s)||!s.length)return;let i=s[0];if("borderBoxSize"in i){let e=i.borderBoxSize,s=Array.isArray(e)?e[0]:e;a=s.inlineSize,t=s.blockSize}else a=e.offsetWidth,t=e.offsetHeight;r({width:a,height:t})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}r(void 0)},[e]),s}},4294:(e,s,r)=>{"use strict";r.d(s,{A:()=>d});var a=r(2115);let t=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,s)=>{let{color:r="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:n="",children:o,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:s,...i,width:l,height:l,stroke:r,strokeWidth:c?24*Number(d)/Number(l):d,className:t("lucide",n),...m},[...u.map(e=>{let[s,r]=e;return(0,a.createElement)(s,r)}),...Array.isArray(o)?o:[o]])}),d=(e,s)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:d,...c}=r;return(0,a.createElement)(l,{ref:i,iconNode:s,className:t("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),d),...c})});return r.displayName="".concat(e),r}},4818:(e,s,r)=>{"use strict";r.d(s,{z:()=>i});var a=r(5155),t=r(4269);function i(e){let{title:s,description:r,children:i,className:l}=e;return(0,a.jsx)("div",{className:(0,t.cn)("mb-8 relative",l),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-headline text-3xl font-bold tracking-tight md:text-4xl",children:s}),r&&(0,a.jsx)("p",{className:"mt-1 text-lg text-muted-foreground",children:r})]}),i]})})}},5142:(e,s,r)=>{"use strict";r.d(s,{p:()=>l});var a=r(5155),t=r(2115),i=r(4269);let l=t.forwardRef((e,s)=>{let{className:r,type:t,...l}=e;return(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...l})});l.displayName="Input"},6444:(e,s,r)=>{"use strict";r.d(s,{J:()=>n});var a=r(5155),t=r(2115),i=r(489),l=r(3101),d=r(4269);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.b,{ref:s,className:(0,d.cn)(c(),r),...t})});n.displayName=i.b.displayName},6948:(e,s,r)=>{"use strict";r.d(s,{BT:()=>n,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>d,wL:()=>u});var a=r(5155),t=r(2115),i=r(4269);let l=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});l.displayName="Card";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...t})});d.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});c.displayName="CardTitle";let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",r),...t})});n.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",r),...t})});o.displayName="CardContent";let u=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r),...t})});u.displayName="CardFooter"},8108:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});var a=r(2115);function t(e){let s=a.useRef({value:e,previous:e});return a.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}},e=>{e.O(0,[2992,7811,4909,2381,8146,3452,6301,1005,8441,1255,7358],()=>e(e.s=1838)),_N_E=e.O()}]);