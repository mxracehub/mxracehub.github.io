(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1298],{243:(e,s,t)=>{"use strict";t.d(s,{E:()=>a});var r=t(5155),i=t(4269);function a(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",s),...t})}},1554:(e,s,t)=>{"use strict";t.d(s,{R8:()=>d,As:()=>x,jt:()=>m});var r=t(5155),i=t(2115),a=t(7820),n=t(9891),l=t(5894);function c(){let{toast:e}=(0,l.dj)();return(0,i.useEffect)(()=>{let s=s=>{console.error(s),e({variant:"destructive",title:"Permission Error",description:"You do not have permission to perform this action. Check Firestore rules."})};return n.d.on("permission-error",s),()=>{n.d.off("permission-error",s)}},[e]),null}let o=(0,i.createContext)(null);function d(e){let{children:s}=e,[t,n]=(0,i.useState)({app:null,auth:null,db:null});(0,i.useEffect)(()=>{n({app:a.yA,auth:a.j2,db:a.db})},[]);let l=(0,i.useMemo)(()=>t,[t]);return(0,r.jsxs)(o.Provider,{value:l,children:[s,(0,r.jsx)(c,{})]})}let u=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useFirebase must be used within a FirebaseProvider");return e},m=()=>u().db,x=()=>u().auth},2298:(e,s,t)=>{"use strict";t.d(s,{J:()=>a});var r=t(2115),i=t(1554);let a=()=>{let e=(0,i.As)(),[s,t]=(0,r.useState)((null==e?void 0:e.currentUser)||null),[a,n]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{if(!e)return;let s=e.onAuthStateChanged(e=>{t(e),n(!1)});return()=>s()},[e]),{user:s,isLoading:a}}},3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var r=t(5155),i=t(2115),a=t(7129),n=t(3101),l=t(4269);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,s)=>{let{className:t,variant:i,size:n,asChild:o=!1,...d}=e,u=o?a.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:i,size:n,className:t})),ref:s,...d})});o.displayName="Button"},4269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>a});var r=t(2821),i=t(5889);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,r.$)(s))}},4818:(e,s,t)=>{"use strict";t.d(s,{z:()=>i});var r=t(5155);function i(e){let{title:s,description:t,children:i}=e;return(0,r.jsx)("div",{className:"mb-8 relative",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-headline text-3xl font-bold tracking-tight md:text-4xl",children:s}),t&&(0,r.jsx)("p",{className:"mt-1 text-lg text-muted-foreground",children:t})]}),i]})})}},5894:(e,s,t)=>{"use strict";t.d(s,{dj:()=>u});var r=t(2115);let i=0,a=new Map,n=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,s)},l=[],c={toasts:[]};function o(e){c=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(c,e),l.forEach(e=>{e(c)})}function d(e){let{...s}=e,t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,s]=r.useState(c);return r.useEffect(()=>(l.push(s),()=>{let e=l.indexOf(s);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},5897:(e,s,t)=>{"use strict";t.d(s,{BK:()=>c,eu:()=>l,q5:()=>o});var r=t(5155),i=t(2115),a=t(7870),n=t(4269);let l=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)(a.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...i})});l.displayName=a.bL.displayName;let c=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)(a._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",t),...i})});c.displayName=a._V.displayName;let o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)(a.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...i})});o.displayName=a.H4.displayName},6948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>l,wL:()=>u});var r=t(5155),i=t(2115),a=t(4269);let n=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...i})});n.displayName="Card";let l=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...i})});l.displayName="CardHeader";let c=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...i})});c.displayName="CardTitle";let o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...i})});o.displayName="CardDescription";let d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...i})});d.displayName="CardContent";let u=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...i})});u.displayName="CardFooter"},7035:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(5155),i=t(2115),a=t(7820),n=t(4818),l=t(6948),c=t(5897),o=t(63),d=t(7468),u=t(3998),m=t(3063),x=t(4381),f=t(4825),p=t(6419),h=t(6943),g=t(2619),j=t.n(g),N=t(243);function b(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(n.z,{title:"My Account",description:"View your profile, balances, and betting history."}),(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"md:col-span-1 space-y-4",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"items-center text-center",children:[(0,r.jsx)(N.E,{className:"h-24 w-24 rounded-full"}),(0,r.jsx)(N.E,{className:"h-6 w-32 mt-2"}),(0,r.jsx)(N.E,{className:"h-4 w-24"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)(N.E,{className:"h-10 w-full"})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(N.E,{className:"h-8 w-24"})}),(0,r.jsxs)(l.Wu,{className:"space-y-2",children:[(0,r.jsx)(N.E,{className:"h-8 w-full"}),(0,r.jsx)(N.E,{className:"h-8 w-full"}),(0,r.jsx)(N.E,{className:"h-10 w-full"}),(0,r.jsx)(N.E,{className:"h-10 w-full"})]})]})]}),(0,r.jsx)("div",{className:"md:col-span-2 space-y-4",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(N.E,{className:"h-8 w-40"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)(N.E,{className:"h-24 w-full"})})]})})]})]})}function w(){let e=(0,o.useRouter)(),{user:s,isLoading:t}=(0,a.Jd)(),{data:g,isLoading:N}=(0,a.uN)("accounts",(null==s?void 0:s.uid)||"---"),w=d.G.find(e=>"user-avatar"===e.id);return((0,i.useEffect)(()=>{t||s||e.push("/sign-in")},[t,s,e]),t||N)?(0,r.jsx)(b,{}):g?(0,r.jsxs)("div",{children:[(0,r.jsx)(n.z,{title:"My Account",description:"View your profile, balances, and betting history.",children:(0,r.jsx)("div",{className:"absolute top-0 right-0 mt-4 mr-4",children:(0,r.jsx)(u.$,{asChild:!0,variant:"outline",children:(0,r.jsxs)(j(),{href:"/account/settings",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Settings"]})})})}),(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"items-center text-center",children:[(0,r.jsxs)(c.eu,{className:"h-24 w-24 border-4 border-primary",children:[w&&(0,r.jsx)(c.BK,{src:w.imageUrl,alt:g.name}),(0,r.jsx)(c.q5,{children:g.name.charAt(0)})]}),(0,r.jsx)(l.ZB,{className:"mt-2",children:g.name}),(0,r.jsxs)(l.BT,{children:["@",g.username]})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:g.bio||"No bio yet."}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("span",{className:"font-semibold",children:["Rider #: ",g.riderNumber||"N/A"]})]})]})]}),(0,r.jsxs)(l.Zp,{className:"mt-4",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"text-yellow-500"})," Balances"]})}),(0,r.jsxs)(l.Wu,{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-2xl",children:g.balances.gold.toLocaleString()}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gold Coins"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-2xl",children:g.balances.sweeps.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sweeps Coins"})]}),(0,r.jsx)(u.$,{className:"w-full",asChild:!0,children:(0,r.jsx)(j(),{href:"/bank",children:"Purchase Gold Coins"})}),(0,r.jsx)(u.$,{className:"w-full",variant:"outline",asChild:!0,children:(0,r.jsx)(j(),{href:"/account/exchange-gold",children:"Exchange Gold Coins"})}),(0,r.jsx)(u.$,{className:"w-full",variant:"outline",asChild:!0,children:(0,r.jsx)(j(),{href:"/account/exchange-sweeps",children:"Exchange Sweeps Coins"})})]})]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{})," Betting History"]})}),(0,r.jsx)(l.Wu,{children:g.betHistory.length>0?(0,r.jsx)("ul",{className:"space-y-4",children:g.betHistory.map(e=>(0,r.jsxs)("li",{className:"flex items-center justify-between rounded-md border p-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:e.race}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Bet against @",e.opponent," - ",e.date]})]}),(0,r.jsxs)("div",{className:"text-right ".concat("Won"===e.status?"text-green-500":"Lost"===e.status?"text-red-500":""),children:[(0,r.jsx)("p",{className:"font-bold",children:e.status}),(0,r.jsxs)("p",{className:"text-sm",children:[e.amount," ",e.coinType]})]})]},e.id))}):(0,r.jsxs)("div",{className:"py-10 text-center text-muted-foreground",children:[(0,r.jsx)("p",{children:"You haven't placed any bets yet."}),(0,r.jsx)(u.$,{variant:"link",asChild:!0,children:(0,r.jsx)(j(),{href:"/betting",children:"Place your first bet"})})]})})]}),(0,r.jsxs)(l.Zp,{className:"mt-4",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{})," Friends"]})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"View your friends list and manage connections."}),(0,r.jsx)(u.$,{asChild:!0,children:(0,r.jsx)(j(),{href:"/friends",children:"View Friends"})})]})]})]})]})]}):(0,r.jsx)("div",{children:"Could not load account details. Please try again later."})}},7468:(e,s,t)=>{"use strict";t.d(s,{G:()=>r});let r=JSON.parse('{"o":[{"id":"user-avatar","description":"User profile avatar","imageUrl":"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxwZXJzb24lMjBwb3J0cmFpdHxlbnwwfHx8fDE3Njc1MTExMDd8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"person portrait"},{"id":"race-banner-1","description":"Motocross race banner","imageUrl":"https://images.unsplash.com/photo-1524055988636-436c6852de66?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxtb3RvY3Jvc3N8ZW58MHx8fHwxNzY3OTAwNjYwfDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"motocross race"},{"id":"supercross-banner","description":"Supercross race action","imageUrl":"https://images.unsplash.com/photo-1599557457753-15a0a38219e1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxzdXBlcmNyb3NzfGVufDB8fHx8MTc2ODAxNDg0OHww&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"supercross action"},{"id":"race-day-banner","description":"Motocross race day excitement","imageUrl":"https://images.unsplash.com/photo-1656768442835-256722b84e66?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxMHx8bW90b2Nyb3NzJTIwYWN0aW9ufGVufDB8fHx8MTc2NzU1Nzc1MXww&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"motocross action"},{"id":"pro-racing-logo","description":"Pro Racing logo","imageUrl":"https://images.unsplash.com/photo-1764176910668-a2f3a7babbd1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw3fHxyYWNpbmclMjBsb2dvfGVufDB8fHx8MTc2NzU1Nzk4N3ww&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"racing logo"},{"id":"ama-logo","description":"AMA logo","imageUrl":"https://images.unsplash.com/photo-1696392837860-d96c2fc454a0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxMHx8bW90b3JjeWNsZSUyMGFzc29jaWF0aW9ufGVufDB8fHx8MTc2NzU1Nzk4N3ww&ixlibrb-4.1.0&q=80&w=1080","imageHint":"motorcycle association"},{"id":"monster-logo","description":"Monster Energy logo","imageUrl":"https://images.unsplash.com/photo-16120944485240-e6249b81c0cc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxMHx8ZW5lcmd5JTIwZHJpbmt8ZW58MHx8fHwxNzY3NTM3MzU4fDA&ixlibrb-4.1.0&q=80&w=1080","imageHint":"energy drink"},{"id":"450-rider-banner","description":"450cc class riders","imageUrl":"https://images.unsplash.com/photo-1746011124084-3134e6e888a4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw3fHxtb3RvY3Jvc3MlMjByaWRlcnN8ZW58MHx8fHwxNzY3NTU5Mjk4fDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"motocross riders"},{"id":"250-rider-banner","description":"250cc class riders","imageUrl":"https://images.unsplash.com/photo-1667506986202-a23a3c90a5a5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxMHx8bW90b2Nyb3NzJTIwcmlkZXJzJTIwYWN0aW9ufGVufDB8fHx8MTc2NzU1OTI5N3ww&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"motocross riders action"},{"id":"settings-banner","description":"Settings page banner","imageUrl":"https://images.unsplash.com/photo-1599557457753-15a0a38219e1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxzdXBlcmNyb3NzfGVufDB8fHx8MTc2ODAxNDg0OHww&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"motocross rider"}]}').o},7645:(e,s,t)=>{Promise.resolve().then(t.bind(t,7035))},7820:(e,s,t)=>{"use strict";t.d(s,{yA:()=>f,j2:()=>p,db:()=>h,Ge:()=>m,uN:()=>x,Jd:()=>c.J});var r=t(2078),i=t(9253),a=t(9708),n=t(8134),l=t(1554),c=t(2298),o=t(2115),d=t(9891);class u extends Error{constructor(e){super("FirestoreError: Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(e,null,2))),this.name="FirestorePermissionError",this.context=e}}function m(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{listen:!1},r=(0,l.jt)(),[i,n]=(0,o.useState)(null),[c,m]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let t;if(!r)return;t=s?(0,a.P)((0,a.rJ)(r,e),(0,a._M)(s[0],s[1],s[2])):(0,a.P)((0,a.rJ)(r,e));let i=(0,a.aQ)(t,e=>{n(e.docs.map(e=>({...e.data(),id:e.id}))),m(!1)},s=>{console.error("Error fetching collection:",s);let t=new u({path:e,operation:"list"});d.d.emit("permission-error",t),m(!1)});return()=>i()},[r,e,s,t.listen]),{data:i,isLoading:c}}function x(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{listen:!1},r=(0,l.jt)(),[i,n]=(0,o.useState)(null),[c,m]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{if(!r||!s)return void m(!1);let t=(0,a.H9)(r,e,s),i=(0,a.aQ)(t,e=>{e.exists()?n({...e.data(),id:e.id}):n(null),m(!1)},e=>{console.error("Error fetching document:",e);let s=new u({path:t.path,operation:"get"});d.d.emit("permission-error",s),m(!1)});return()=>i()},[r,e,s,t.listen]),{data:i,isLoading:c}}let f=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyDNAADGPDDmXXTmOEPafwjb_wSE-EPd3E8",authDomain:"studio-122199390-e63be.firebaseapp.com",projectId:"studio-122199390-e63be",storageBucket:"studio-122199390-e63be.appspot.com",messagingSenderId:"553275156578",appId:"1:553275156578:web:cf7bd93695c99957b7c93b"}),p=(0,i.xI)(f),h=(0,a.aU)(f);(0,n.c7)(f)},9891:(e,s,t)=>{"use strict";t.d(s,{d:()=>r});let r=new(t(6459)).EventEmitter}},e=>{e.O(0,[2992,3644,4909,4193,2619,2918,8441,1255,7358],()=>e(e.s=7645)),_N_E=e.O()}]);